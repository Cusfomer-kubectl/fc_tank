<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>FC Tank - a coffeescript rewritten of classic 90 tank on Nintendo family computer</title>
  <script type="text/javascript" src="js/coffeescript-v1.6.2.min.js"></script>
  <script type='text/javascript' src='js/jquery-v1.9.1.min.js'></script>
  <script type='text/javascript' src='js/lodash-v1.1.1.min.js'></script>
  <script type='text/javascript' src="js/ocanvas-v2.3.1.min.js"></script>
  <style type='text/css'>
    #resources { display: none; }
    #canvas {margin: 50px 20px;}
  </style>
  <script type="text/coffeescript">
    loadCoffee = (files) ->
        $head = $ "head"
        compile_and_add = (content) ->
          compiled = CoffeeScript.compile content, {bare: on}
          $("<script />").attr("type", "text/javascript").html(compiled).appendTo $head
        load = (file) ->
          $.ajax {
            url: file,
            success: compile_and_add,
            dataType: 'text'
            async: false
          }
        load file for file in files
    loadCoffee ["src/tank.coffee", "src/game.coffee"]
  </script>
</head>
<body>
  <img id="resources" alt="tanks" width="400" height="360" src="image/tanks.png" />
  <canvas id="canvas" width="520" height="520"></canvas>
</body>
</html>
